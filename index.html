<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Patched APK Repo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 2em;
            color: #333;
        }

        .container {
            max-width: 600px;
            width: 100%;
        }

        .release {
            margin: 15px 0;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
            /* Needed for positioning the label inside */
        }

        .release h2 {
            margin: 0;
            font-size: 1.5em;
            color: #333;
        }

        .release p {
            margin: 10px 0;
            color: #666;
        }

        .release .download-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #28a745;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.3s ease;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 10px;
            text-align: center;
            width: 100%;
            /* Makes the button 100% width of its container */
            max-width: 420px;
            /* Limits button width to 420px */
            box-sizing: border-box;
            /* Includes padding and border in width calculation */
            white-space: nowrap;
            /* Prevents text from wrapping inside the button */
            text-overflow: ellipsis;
            /* Adds "..." if text overflows */
            overflow: hidden;
            /* Ensures overflow text doesn't break layout */
        }

        .release .download-btn:hover {
            background-color: #218838;
        }

        .latest-label {
            position: absolute;
            top: 0px;
            right: 0px;
            background-color: #28a745;
            color: white;
            padding: 7px 12px;
            border-radius: 0 0 0 8px;
            font-weight: bold;
            font-size: 0.9em;
            
        }

        /* Make buttons smaller on smaller screens */
        @media (max-width: 768px) {
            .release .download-btn {
                font-size: 0.9em;
                /* Smaller text size */
                padding: 8px 16px;
                /* Smaller padding */
            }
        }

        /* Make buttons even smaller on extra small screens */
        @media (max-width: 480px) {
            .release .download-btn {
                font-size: 0.8em;
                /* Even smaller text size */
                padding: 6px 12px;
                /* Even smaller padding */
            }
        }
    </style>

</head>

<body>
    <h1>
        <img src="https://github.com/user-attachments/assets/07835c2f-c98e-4351-9a00-cdf708bb741f" style="height: 1.2em; vertical-align: -15%; display: inline-block;">
        Minecraft Patched APK Repo (fan-made)
        <img src="https://github.com/user-attachments/assets/9f97b77a-a842-464b-9a24-9f3af7050df1" style="height: 1.5em; vertical-align: -45%; display: inline-block;">
    </h1>
    <code>unofficial apks yk...</code>
    <code><a style="text-decoration: none; color: black;" target="_blank" href=https://api.github.com/repos/mcpebd/mcpatched/releases>born</a> on 20241010_1457</code>
    <code>page made by chatgpt cuz me no dev</code>
    <code>and yes, ‡¶Æ‡ßÅ‡¶∞‡¶ó‡¶ø ‡¶ñ‡¶æ‡ßü ‡¶ß‡¶æ‡¶® üê•</code>
    <p><b style="color: red;">[Notice: Feb 16, 2025]</b> In favor of <a href="./mbloader-intro.html">MB Loader</a>, this page will be discontinued soon.</p>
    <p>
        <code><strong>Useful links:</strong>
<a style=text-decoration:none; href="https://discord.gg/UJdvR6WBAe">YSS Discord server</a>
|
<a style=text-decoration:none; href="https://discord.gg/fdKbYyacCc">Newb Discord server</a>
|
<a style=text-decoration:none; href="https://github.com/ddf8196/MaterialBinLoader">MaterialBinLoader</a>
|
<a style=text-decoration:none; href="https://github.com/mcbegamerxx954/mtbinloader2">MaterialBinLoader2</a>
|
<a style=text-decoration:none; href="https://github.com/mcbegamerxx954/mcbe_shader_redirector">Draco</a>
|
<s><a style=text-decoration:none; href="https://github.com/bambosan/MaterialBinLoader-Apk">MB Loader</a></s>
|
<s><a style=text-decoration:none; href="https://github.com/CallMeSoumya2063/RandomCoolStuff/blob/main/MB%20Loader%20Mods.md">MB Mods</a></s>
|
<a style=text-decoration:none; href="https://github.com/faizul726/matject">Matject</a>
</code>
    </p>
    <br>
    <code>
        <b>MBL</b> ‚Äå ‚Äå = <b>M</b>aterial<b>B</b>in<b>L</b>oader. Same loader that YSS apks use)<br>
        <b>MBL2‚Äå</b> ‚Äå = <b>M</b>aterial<b>B</b>in<b>L</b>oader<b>2</b>. Same as MBL, made by <a style= text-decoration:none; href=https://github.com/mcbegamerxx954>mcbegamerxx954</a>. Can load OreUI, camera, deferred files. (1.21.44+)<br>
        <b>Draco</b> = Another loader made by <a style= text-decoration:none; href=https://github.com/mcbegamerxx954>mcbegamerxx954</a>. ONLY loads shaders from Global Resource Packs.<br><br>
        <b>Unofficial</b> = Fan made. Not from the creator of patchapp.
    </code>
    <br>

    <p>You can try <b><a href=https://github.com/faizul726/oreui-utilities/releases/latest>OreUI Utilities</a></b> on <b>MBL2 patch</b>. It adds many hidden features including <b>world export button</b>.</p>
    <br>
    <p><b style="color: red">IMPORTANT NOTE: "v1.21.60 MBL2" is patched by YSS. Means if your current patch apk is made by YSS, you can update directly.<br>It will very likely be the last patch from YSS and me in favor of <a href="./mbloader-intro.html">MB Loader</a></b>.<br><br><b style="color: black">So, for your convenience,<br>I have added game file viewer which allows you to see both Application and External data using this <a href="https://play.google.com/store/apps/details?id=com.marc.files&hl=en">file manager</a> (check 3 line menu)<br>Or... you can use <a href=https://github.com/faizul726/oreui-utilities/releases/tag/v1.21.60>OreUI Utilities</a> to export your worlds.<br><br>Thank you. It's been an honor serving you.</b></p>
    <div class="container">
        <div id="releases"></div>
    </div>

    <script>
        // Function to convert date string like '20241010' to 'Oct 10, 2024'
        function formatReleaseDate(bodyText) {
            const datePattern = /^\d{8}/; // Pattern to match date in the form YYYYMMDD
            const match = bodyText.match(datePattern);

            if (match) {
                const dateString = match[0];
                const year = dateString.substring(0, 4);
                const month = dateString.substring(4, 6);
                const day = dateString.substring(6, 8);

                const dateObj = new Date(`${year}-${month}-${day}`);
                const options = { year: 'numeric', month: 'short', day: 'numeric' };
                return dateObj.toLocaleDateString('en-US', options); // Format like "Oct 10, 2024"
            }

            return 'Unspecified'; // Return "Unspecified" if no valid date found
        }

        // Function to determine download button text based on file name
        function getDownloadButtonText(fileName, sizeMB) {
            if (fileName.includes("mbl2")) {
                return `Download MBL2 Patched (${sizeMB} MB)`;
            } else if (fileName.includes("mbl")) {
                return `Download MBL Patched (${sizeMB} MB)`;
            } else if (fileName.includes("draco")) {
                return `Download Draco Patched (${sizeMB} MB)`;
            } else {
                return `Download (${sizeMB} MB)`; // Default if none of the keywords match
            }
        }

        // Function to fetch releases and display them
        async function fetchReleases() {
            const apiUrl = 'https://api.github.com/repos/mcpebd/mcpatched/releases';

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                const releasesContainer = document.getElementById('releases');

                data.forEach((release, index) => {
                    let totalDownloads = 0;  // To sum all downloads in a release
                    let totalSize = 0;
                    let downloadUrl = '';

                    // Create a release element
                    const releaseElement = document.createElement('div');
                    releaseElement.classList.add('release');

                    // Use the release body (with date) for the local time display
                    const releaseDate = formatReleaseDate(release.body);

                    // Add release name (as a link) and creation date
                    releaseElement.innerHTML = `
                        <h2><a href="${release.html_url}" target="_blank" style="text-decoration: none; color: black">${release.name}</a></h2>
                        <p><strong>Creation Date:</strong> ${releaseDate}</p>
                        <p><strong>Total Downloads:</strong> <span id="downloads-${release.id}">0</span></p>
                        <p><p>
                    `;

                    if (index === 0) {
                        const latestLabel = document.createElement('span');
                        latestLabel.classList.add('latest-label');
                        latestLabel.textContent = 'Latest';
                        releaseElement.appendChild(latestLabel);
                    }

                    // Loop through all assets (files) and create a download button for each
                    release.assets.forEach(asset => {
                        // Only process .apk files
                        if (asset.name.endsWith('.apk')) {
                            totalDownloads += asset.download_count; // Sum downloads
                            totalSize += asset.size;
                            downloadUrl = asset.browser_download_url; // Use the latest asset's URL
                            const fileSizeMB = (asset.size / (1024 * 1024)).toFixed(0); // Convert size to MB

                            // Create a download button for the .apk asset
                            const downloadButtonText = getDownloadButtonText(asset.name, fileSizeMB);

                            const downloadButton = document.createElement('a');
                            downloadButton.classList.add('download-btn');
                            downloadButton.href = downloadUrl;
                            downloadButton.target = "_blank";
                            downloadButton.textContent = downloadButtonText;

                            releaseElement.appendChild(downloadButton);
                        }
                    });

                    totalSize = (totalSize / (1024 * 1024)).toFixed(2); // Convert total size to MB

                    // Update total downloads display for this release
                    const downloadsElement = releaseElement.querySelector(`#downloads-${release.id}`);
                    downloadsElement.textContent = totalDownloads; // Update total download count

                    // Append the release element to the container
                    releasesContainer.appendChild(releaseElement);
                });
            } catch (error) {
                console.error('Error fetching releases:', error);
            }
        }

        // Fetch and display the releases when the page loads
        fetchReleases();
    </script>
</body>

</html>

